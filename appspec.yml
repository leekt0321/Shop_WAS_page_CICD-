version: 0.0
os: linux
files:
  - source: conf/
    destination: /usr/local/tomcat/conf/
  - source: lib/mysql-connector-java-8.0.23.jar
    destination: /usr/local/tomcat/lib/
  - source: webapps/ROOT/
    destination: /usr/local/tomcat/webapps/ROOT
  - source: scripts/
    destination: /usr/local/tomcat/scripts/
hooks:
  ApplicationStop:
    - location: /usr/local/tomcat/scripts/stop_tomcat.sh
      timeout: 300
      runas: root
  BeforeInstall:
    - location: /usr/local/tomcat/scripts/clean_old_files.sh
      timeout: 300
      runas: root
  AfterInstall:
    - location: /usr/local/tomcat/scripts/start_tomcat.sh
      timeout: 300
      runas: root

